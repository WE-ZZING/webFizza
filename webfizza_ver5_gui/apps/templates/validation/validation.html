{% extends 'layouts/validation.html' %}

{% block title %} Validation {% endblock title %}
<link rel="stylesheet" href="{% static 'css/validation.css' %}">
{% block content %}

<div>
  <button class="open-popup-btn" onclick="openPopup()">View Logs</button>

  <div class="overlay" id="overlay" onclick="closePopup()"></div>
  <div class="log-popup" id="logPopup">
    <div class="log-popup-header">
      Validation Logs
    </div>
    <div class="log-popup-content">
      {% for log in logs %}
      <div
        class="log-entry {% if log.status == 'success' %}success{% elif log.status == 'failure' %}failure{% elif log.status == 'false_positive' %}false-positive{% endif %}">
        <div class="log-heading">
          {{ log.message }}
        </div>
        <div class="log-timestamp">
          Timestamp: {{ log.timestamp }}
        </div>
      </div>
      {% endfor %}
    </div>
    <button class="close-btn" onclick="closePopup()">Close</button>
  </div>

  
  </body>

  {% include "includes/footer.html" %}

</div>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTTfWur0PDbZWPr7Pmq8K3jiDp0_xUziI"></script>

<script>
  function openPopup() {
    document.getElementById('logPopup').style.display = 'block';
    document.getElementById('overlay').style.display = 'block';
  }

  function closePopup() {
    document.getElementById('logPopup').style.display = 'none';
    document.getElementById('overlay').style.display = 'none';
  }
</script>

{% endblock javascripts %}